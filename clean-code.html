<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-05-13T19:34:27.3544687"><title>Clean Code | 4R Digital</title><script type="application/json" id="virtual-toc-data">[{"id":"meaningful-naming","level":0,"title":"Meaningful Naming","anchor":"#meaningful-naming"},{"id":"lean-and-cohesive-methods","level":0,"title":"Lean and Cohesive Methods","anchor":"#lean-and-cohesive-methods"},{"id":"limit-of-3-maximum-parameters-per-method","level":0,"title":"Limit of 3 Maximum Parameters per Method","anchor":"#limit-of-3-maximum-parameters-per-method"},{"id":"encapsulate-complex-conditionals","level":0,"title":"Encapsulate Complex Conditionals","anchor":"#encapsulate-complex-conditionals"},{"id":"use-standardized-and-consistent-formatting","level":0,"title":"Use Standardized and Consistent Formatting","anchor":"#use-standardized-and-consistent-formatting"},{"id":"be-careful-with-the-use-of-flags-boolean-parameters","level":0,"title":"Be Careful with the Use of Flags (Boolean Parameters)","anchor":"#be-careful-with-the-use-of-flags-boolean-parameters"},{"id":"side-effects","level":0,"title":"Side Effects","anchor":"#side-effects"},{"id":"avoid-explanatory-code-comments","level":0,"title":"Avoid Explanatory Code Comments","anchor":"#avoid-explanatory-code-comments"},{"id":"allow-the-code-to-breathe","level":0,"title":"Allow the Code to Breathe","anchor":"#allow-the-code-to-breathe"},{"id":"never-ever-use-regions","level":0,"title":"Never, EVER, Use Regions","anchor":"#never-ever-use-regions"},{"id":"order-of-methods","level":0,"title":"Order of Methods","anchor":"#order-of-methods"},{"id":"automated-tests","level":0,"title":"Automated Tests","anchor":"#automated-tests"},{"id":"mandatory-reference","level":0,"title":"Mandatory Reference","anchor":"#mandatory-reference"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Clean Code | 4R Digital"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="4R Digital Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/clean-code.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Clean Code | 4R Digital"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/clean-code.html#webpage",
    "url": "writerside-documentation/clean-code.html",
    "name": "Clean Code | 4R Digital",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "4R Digital Help"
}</script><!-- End Schema.org --></head><body data-id="Clean-Code" data-main-title="Clean Code" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Development-Processes.md|Software Development Practices"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>4R Digital  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Clean-Code" id="Clean-Code.md">Clean Code</h1><aside class="prompt" data-type="tip" data-title="" id="-x8hfev_48"><p id="-x8hfev_49">Here, we list the most important clean code guidelines according to Uncle Bob. At the end, there are references on how to study all the others.</p></aside><section class="chapter"><h2 id="meaningful-naming" data-toc="meaningful-naming">Meaningful Naming</h2><p id="-x8hfev_50">It is better to have a long name than to need comments to explain. This includes lambdas as well. Using appropriate names throughout the code will ensure easy understanding of the context and facilitate maintenance.</p><p id="-x8hfev_51"><span class="control" id="-x8hfev_52">Bad:</span></p><div class="code-block" data-lang="csharp">
var result = this.service.Get(x =&gt; x.Name, &quot;Adams&quot;);
</div><p id="-x8hfev_54"><span class="control" id="-x8hfev_55">Ideal:</span></p><div class="code-block" data-lang="csharp">
var customers = this.customerService.GetByLastName(customer =&gt; customer.Name, &quot;Adams&quot;);
</div><p id="-x8hfev_57">In the example above, variables, methods, lambda parameters, and properties all have appropriate and self-explanatory names.</p></section><section class="chapter"><h2 id="lean-and-cohesive-methods" data-toc="lean-and-cohesive-methods">Lean and Cohesive Methods</h2><p id="-x8hfev_58">Keep your methods (or basically any other scope) simple, direct, and focused on a single main objective.</p></section><section class="chapter"><h2 id="limit-of-3-maximum-parameters-per-method" data-toc="limit-of-3-maximum-parameters-per-method">Limit of 3 Maximum Parameters per Method</h2><p id="-x8hfev_59">Ideally, you should prefer only 2, unless justified. More than that is a strong indication of a bad design, so it's preferable to use a DTO with all the necessary properties instead of parameters.</p><p id="-x8hfev_60">In practice, parameters represent the dependencies of a method, and this can be a strong indicator that it violates the SRP. It's important to always keep methods lean with a simple purpose, making the code readable and maintainable.</p></section><section class="chapter"><h2 id="encapsulate-complex-conditionals" data-toc="encapsulate-complex-conditionals">Encapsulate Complex Conditionals</h2><p id="-x8hfev_61">Any conditional composed of more than one validation becomes complex when done in the same line. Encapsulate these conditionals in specific methods and, even better, separate them by context.</p><p id="-x8hfev_62"><span class="control" id="-x8hfev_63">OK:</span></p><div class="code-block" data-lang="csharp">
if (value != null)
{
  /// Code
}
</div><p id="-x8hfev_65"><span class="control" id="-x8hfev_66">Bad:</span></p><div class="code-block" data-lang="csharp">
if (value != null &amp;&amp; value + 1 &lt; 5)
{
  /// Code
}
</div><p id="-x8hfev_68"><span class="control" id="-x8hfev_69">Ideal:</span></p><div class="code-block" data-lang="csharp">
var isValid = IsValid(value);
var isLessThanFive = LessThanFive(value); 
if (isValid &amp;&amp; lessThanFive)
{
  /// Code
}

private bool IsValid(int? value) =&gt; value != null;

private bool LessThanFive(int value) =&gt; value + 1 &lt; 5;
</div></section><section class="chapter"><h2 id="use-standardized-and-consistent-formatting" data-toc="use-standardized-and-consistent-formatting">Use Standardized and Consistent Formatting</h2><p id="-x8hfev_71">All code must follow a consistent pattern of formatting, indentation, spacing, and capitalization.</p></section><section class="chapter"><h2 id="be-careful-with-the-use-of-flags-boolean-parameters" data-toc="be-careful-with-the-use-of-flags-boolean-parameters">Be Careful with the Use of Flags (Boolean Parameters)</h2><p id="-x8hfev_72">Boolean flags can be passed to methods via parameters, as long as they are not used to decide flows. This behavior usually indicates a violation of the SRP, where the method has different modes or operation flows.</p><p id="-x8hfev_73">Similarly, the use of enums can also indicate a violation of the SRP when used in the same way.</p></section><section class="chapter"><h2 id="side-effects" data-toc="side-effects">Side Effects</h2><p id="-x8hfev_74">It is also common to violate the SRP when there are side effects, i.e., hidden and additional operations in addition to the main function of the method. A good example is a method that returns the result of a calculation and makes changes to the state of the class, such as incrementing a value. Ideally, the method should have only one function, and state changes should be handled separately.</p></section><section class="chapter"><h2 id="avoid-explanatory-code-comments" data-toc="avoid-explanatory-code-comments">Avoid Explanatory Code Comments</h2><p id="-x8hfev_75">In very few cases, comments are useful. However, in most, they can be avoided through code encapsulation. The reason is simple: comments are less visible and are often ignored, becoming quickly outdated.</p></section><section class="chapter"><h2 id="allow-the-code-to-breathe" data-toc="allow-the-code-to-breathe">Allow the Code to Breathe</h2><p id="-x8hfev_76">Lines of code all together create a large block of code that is difficult to read. Group related lines of code only, skip a line, and allow the code to breathe.</p><p id="-x8hfev_77"><span class="control" id="-x8hfev_78">Bad:</span></p><div class="code-block" data-lang="csharp">
public Customer GetCustomer(string id)
{
    if (string.IsNullOrWhiteSpace(id)) throw new ArgumentNullException();
    var uri = $&quot;http://test.com/api/customers/{id}&quot;;
    var httpClient = HttpClientFactory.Create();
    var response = httpClient.Get(uri);
    response.EnsureSuccessfulRequest();
    return JsonSerializer.Deserialize&lt;Customer&gt;(response.Content);
}
</div><p id="-x8hfev_80"><span class="control" id="-x8hfev_81">Ideal:</span></p><div class="code-block" data-lang="csharp">
public Customer GetCustomer(string id)
{
    // Guard
    if (string.IsNullOrWhiteSpace(id)) {
       throw new ArgumentNullException();
    }

    // Setup
    var uri = $&quot;http://test.com/api/customers/{id}&quot;;
    var httpClient = HttpClientFactory.Create();

    // Execution
    var response = httpClient.Get(uri);
    response.EnsureSuccessfulRequest();

    // Return
    return JsonSerializer.Deserialize&lt;Customer&gt;(response.Content);
}
</div><p id="-x8hfev_83"><span class="control" id="-x8hfev_84">Note:</span> Comments are only here to facilitate the understanding of the example. They should not exist in real code and already indicate that the code can be refactored.</p></section><section class="chapter"><h2 id="never-ever-use-regions" data-toc="never-ever-use-regions">Never, EVER, Use Regions</h2><p id="-x8hfev_85">Just because a feature exists doesn't mean it needs to be used. Regions make the code very difficult to read because they hide parts of it and contribute immensely to the increase in scopes, ALWAYS causing serious violations of the SRP with gigantic methods and classes.</p><p id="-x8hfev_86">Here are common false justifications for regions and the best alternatives:</p><ol class="list _decimal" id="-x8hfev_87" type="1"><li class="list__item" id="-x8hfev_88"><p id="-x8hfev_89"><span class="control" id="-x8hfev_90">Grouping code with title</span><br> When this happens, it's clear that the class or method is too large and needs to be grouped. It's obvious that it violates the SRP, and the class or method needs to be refactored.</p></li><li class="list__item" id="-x8hfev_92"><p id="-x8hfev_93"><span class="control" id="-x8hfev_94">Code organization</span><br> Probably similar to the previous one, but only to organize the code. The way a class should be organized follows the general scheme:</p></li></ol><aside class="prompt" data-type="tip" data-title="" id="-x8hfev_96"><ul class="list _bullet" id="-x8hfev_97"><li class="list__item" id="-x8hfev_98"><p>Constants</p></li><li class="list__item" id="-x8hfev_99"><p>Private Members</p></li><li class="list__item" id="-x8hfev_100"><p>Constructors</p></li><li class="list__item" id="-x8hfev_101"><p>Properties</p></li><li class="list__item" id="-x8hfev_102"><p>Methods (More below)</p></li><li class="list__item" id="-x8hfev_103"><p>Destructors and Finalizers</p></li></ul></aside><ol class="list _decimal" id="-x8hfev_104" type="1" start="3"><li class="list__item" id="-x8hfev_105"><p><span class="control" id="-x8hfev_106">Concealment</span></p><br><p> No code should be hidden for any reason!</p></li></ol></section><section class="chapter"><h2 id="order-of-methods" data-toc="order-of-methods">Order of Methods</h2><p id="-x8hfev_108">Methods should be ordered by use, followed by their dependencies in the same way.</p><div class="code-block" data-lang="csharp">
public Customer GetCustomer(string id)
{
   if (string.IsNullOrWhiteSpace(id)) {
      throw new ArgumentNullException();
   }

   var httpClient = this.GetHttpClient();
   var response = this.GetValidResponse(uri, httpClient);

   return this.Deserialize(response.Content);
}

private HttpClient GetHttpClient()
{
    var uri = $&quot;http://test.com/api/customers/{id}&quot;;

    return HttpClientFactory.Create();
}

private HttpResponse GetValidResponse(string uri, HttpClient httpClient)
{
    var response = httpClient.Get(uri);
    response.EnsureSuccessfulRequest();

    return response;
}

private Customer Deserialize(string content) =&gt; JsonSerializer.Deserialize&lt;Customer&gt;(content);

public void NextUnrelatedMethod()
{
    /// Code
}

</div></section><section class="chapter"><h2 id="automated-tests" data-toc="automated-tests">Automated Tests</h2><p id="-x8hfev_110">Software tests are the only guarantee we can give that this software operates correctly, safely, and reliably. It also ensures that it will not fail to do so during changes, improvements, and corrections.</p><p id="-x8hfev_111">That said, software should ALWAYS be tested, and their automation is the best way. Manual tests are very limited. Defining the best testing strategy that works for the developing software will allow it to be testable, becoming part of the engineering process. As a general rule, unit tests are the minimum that should always be present.</p><p id="-x8hfev_112">There are other types of tests, such as Integration, Acceptance, Manual, Performance, Load, etc.</p><section class="chapter"><h3 id="unit-tests" data-toc="unit-tests">Unit Tests</h3><p id="-x8hfev_113">This is the most basic test that will validate each code unit (a method can contain one or more units</p><p id="-x8hfev_114">) against possible scenarios to ensure correct operation. In this type of test, all external dependencies of the unit, also known as the &quot;Subject Under Test or SUT,&quot; are mocked because they are unnecessary.</p></section><section class="chapter"><h3 id="integration-tests" data-toc="integration-tests">Integration Tests</h3><p id="-x8hfev_115">These tests validate interfaces or boundaries and ensure that the integration between parts works as expected. Good examples are:</p><ul class="list _bullet" id="-x8hfev_116"><li class="list__item" id="-x8hfev_117"><p>REST API endpoint tests, where we need to ensure that invalid parameters or data will return a Bad Request;</p></li><li class="list__item" id="-x8hfev_118"><p>If an entity was not found by the id, it should return Not Found.</p></li></ul><p id="-x8hfev_119">Integration tests typically have mocked dependencies as well.</p></section><section class="chapter"><h3 id="acceptance-tests" data-toc="acceptance-tests">Acceptance Tests</h3><p id="-x8hfev_120">These tests should evaluate an entire feature against acceptance criteria, ensuring that the business requirements of the story or task were correctly implemented. They typically use real (or approximate) data without the need to mock dependencies.</p></section></section><section class="chapter"><h2 id="mandatory-reference" data-toc="mandatory-reference">Mandatory Reference</h2><ul class="list _bullet" id="-x8hfev_121"><li class="list__item" id="-x8hfev_122"><p><a href="https://www.amazon.co.uk/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882" id="-x8hfev_123" data-external="true" rel="noopener noreferrer">Uncle Bob's Clean Code Handbook - Software Craftsmanship</a></p></li></ul></section><div class="last-modified">Last modified: 13 May 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="software-ilities.html" class="navigation-links__prev">Main &quot;-ilities&quot; of Software Engineering</a><a href="code-smells.html" class="navigation-links__next">Code Smells</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>